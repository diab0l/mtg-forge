Forge Beta: 0#-##-2013 ver 1.3.9


12### cards in total.


Release Notes:

You can now cast cards for it's miracle cost without getting a crash. Blocking with a creature was not resetting after combat and this would prevent this creature from blocking in subsequent turns, now fixed.

Work continues on the quest worlds format and a new world based on Ravnica is coming along nicely.

Added a 'copy to clipboard' button on WinLose screen so players can easily copy the game log.

Find-as-you-type is now implemented for Deck Editor tables.  Just start typing while the table has focus and the next card with a matching string in its name will be highlighted.  If more than one card matches, hit Enter to select the next matching card.  A popup panel will appear with the search string so you know what you are searching for.  If no cards match the string, the string will be highlighted in red.  Normally, if you hit the spacebar while a card is selected in one table, the card will be moved to the other table (catalog/deck).  When the popup is displayed, space characters are interpreted as part of the search string.  Find-as-you-type mode is automatically exited after 5 seconds of inactivity, or hit Escape to exit find-as-you-type mode immediately.

The Deck Editor has also gained some hotkey and context menu abilities.  R-click on a card (or a group of selected cards) for a list of actions and keyboard shortcuts.  In particular, you can now transfer cards 4 at a time using the keyboard and interact with the sideboard from anywhere.  Also remember that you can jump to the other table with the arrow keys and jump to the text filter with ctrl/cmd+f.  From the text filter, you can jump down to the tables by pressing enter.

In recent weeks people had noticed that the computer was picking the weakest cards in Draft mode rather than the strongest cards. This left the AI with a draft mode deck that was suboptimal. The computer should now pick the strongest cards rather than the weakest cards.

Work was also done on making the UI more keyboard-friendly.  For example, the OK button should now stay focused during matches, so you can advance through the stages by hitting Enter without having to go over and click the button all the time.  If you find the button is losing focus, please report it as a bug.

Gatecrash Guild Sealed game mode has been added. To use it, start a new Sealed Mode Game, select "Block / Set" and "Gatecrash Guild Sealed". Select the first (default) configuration in the "Choose Set Combination" dialog, and when asked to pick your boosters, choose the guild you want twice (once for the guild-specific booster, and then for the extra promo cards). 
The following cards are not included in the guild boosters of this game mode because they are not currently implemented in Forge: Bane Alley Broker, Bioshift, Killing Glare, Simic Manipulator.


New Cards:

Ghosts of the Innocent
Pendrell Flux
Disruption Aura
Library of Leng
Temporal Extortion
Aven Shrine
Bloom Tender
Bomb Squad
Cabal Shrine
Chant of Vitu-Ghazi
Covenant of Minds
Crashing Boars
Crush Underfoot
Desecrator Hag
Dwarven Shrine
Eye for an Eye
Hint of Insanity
Holistic Wisdom
Infectious Rage
Knowledge Exploitation
Lightning Dart
Memory Crystal
Mist of Stagnation
Moonring Mirror
Nantuko Shrine
Phyrexian Purge
Planeswalker's Mischief
Protean Hulk
Purgatory
Quenchable Fire
Retribution
Reviving Vapors
Reweave
Sapphire Drake
Searing Rays
Sphinx Ambassador
Talara's Bane
Thelon of Havenwood
Mist of Stagnation
Unforge
Warren Weirding
Worldpurge
Flash
Forked Lightning
Embolden
Jaws of Stone
Living Inferno
Magmatic Core
Remedy
Rolling Thunder
Aurelia's Fury
Pollen Remedy
Conflagrate
Hail of Arrows
Fire Covenant
Meteor Shower
Infernal Harvest
Rock Slide
Serra's Hymn
Volcanic Wind
Spoils of War
Fiery Justice
Bounty of the Hunt
Shambling Swarm
Fire and Brimstone
Marble Priest
Talruum Piper
Endemic Plague
Feint


New Phenomenons:

Chaotic AEther
Planewide Disaster


New Vanguard Avatars:

Sisters of Stone Death Avatar
Viridian Zealot Avatar


Known Issues:

On several occasions people have noticed that the forge deck editor and/or quest mode card shop would not open or display. We have also received reports that some of the tabs/panels in the deck editor are missing. Try deleting the file named "editor_preferred.xml" which is found in the "res/layouts" folder. This should force forge to then use the "editor_default.xml" file instead.

Several people have noticed that the cards displayed on the battlefield will fail to be displayed when the number of cards on the battlefield increases. Maximizing the human panel can help to re-display the cards.

Some time was spent turning the static ETB triggers into the proper ETB replacement effects they should be, mainly to interact correctly with each other. This work is not yet finished. As a result there is currently some inconsistencies with "Enters the battlefield with counters" (Not incredibly noticeable).

It seems like the front face of double faced cards aren't triggering properly, but the back face and single faced cards are.

A recent contribution to the code base should fix some of the bugs that people noticed with cloning type abilities. At this time there are two remaining issues that we hope will be addressed in the near future.

1. Leave play triggers don't work correct for clones.
2. Copies of cards that setup Zone Change triggers via addComesIntoPlayCommand and addLeavesPlayCommand will not function correctly.

We are now using a different system for our snapshot and beta releases. Unfortunately, this new system builds a jar file which does not accurately display the SVN revision number.

Forge is likely to be compatible with Java 7 at this time. Some people have used forge with Java 7 and have not reported any problems that are related to Java 7. If you would like to upgrade to Java 7 and have held off because of Forge then you may upgrade as we do not think that it will cause an incompatibility type of problem. We will continue to try to maintain compatibility with Java 6 for the foreseeable future.

The Forge archive includes a readme.txt file and we ask that you spend a few minutes reading this file as it contains some information that may prove useful. We do tend to update this file at times and you should quickly read this file and look for new information for each and every new release. Thank you.

The archive format used for the Forge distribution is ".tar.bz2". There are utilities for Windows, Mac OS and the various *nix's that can be used to extract/decompress these ".tar.bz2" archives. We recommend that you extract/decompress the Forge archive into a new and unused folder.

Some people use the Windows application 7zip. This utility can be found at http://www.7-zip.org/download.html. Mac users can double click on the archive and the application Archive Utility will launch and extract the archive. Mac users do not need to download a separate utility.


Contributors to This Release:




(Quest icons used created by Teekatas, from his Legendora set http://raindropmemory.deviantart.com)
(Thanks to the MAGE team for permission to use their targeting arrows.)
(Thanks to http://www.freesound.org/browse/ for providing some sound files.)


Detailed Changelog: (This will likely be deleted in the near future)

- Added set info for Sewers of Estark
- Cleared out the changes.txt file, now ready for new material.
- Added the script option "UnlessCost$ CardManaCost".
- Fixed The Hippodrome
- Added infrastructure for phenomenon Chaotic AEther.
- Convert Permanent Multikickers to Script
- Added dev mode ability to rig the planar dice.
- Updated some quest decks with GTC cards.
- Fixed InputBlock not being reset after each combat.
- Fixed Miracle not setting an ActivatingPlayer.
- Added a fluff piece to the changes.txt file.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- Updated all-prices.txt.
- rem useless imports
- Power Sink converted to script
- missing effect file from r19500
- minor - wrote more specific generics for CDeckEditorUI.childController 
- changed boolean parameter (add 1 or 4 cards) into exact number - that's clearer.
- add 'copy to clipboard' button on WinLose screen so players can easily copy the game log
- restore focus after hiding choose sets dialog
- Power sink: reviewed script, so that correct effect (DrainMana) is used
- Unless syntax enriched: added UnlessResolveSubs parameter to indicate if subAbilities are resolved for paid and unpaid branches
- SpellDesciptions from card scripts now may include variables
- implement basic find-as-you-type for deck editor tables
- Added a fluff piece to the changes.txt file.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- AbilityFactory - merged repeating code fragments
- FileSection - exposing a useful method to parse string into map, AF already uses it
- SpellEffect, InputPayManaCostUtil, GameActionUtil - remove unused imports
- predictDamage methods moved to ComputerUtilCombat, since used by AI only and it's not a core game entity property
- distubute combat damage for AI moved from Combat.java to ComputerUtilCombat
- Fixed the title for the Dr. Doom 3 quest opponent deck.
- let code in populateCustomPanel override enabled setting of continue button
- relocate the tooltip when a new cell is hovered over, even if it contains the same text
- Rewrite of VAssignDamage (I need a damage map from this class [View must not apply damage by itself] but the code shocked me, so rewrote it first)
- made distribute damage method return Map<Card, int> as decisions taken by player, combat.java now does not depend on player type and has no GUI references
- ensure extra snow-covered lands from CSP and relentless rats aren't sold
- Default assign damage view does not offer full damage distribution
- don't count decks and packs as having color or card type
- finish implementation of find-as-you-type
- Write CHANGES blurb about find-as-you-type mode
- allow left/right arrow keys to switch focus between deck editor tables
- autoselect first row if a table gains focus and no rows are currently selected
- CardDb.uniqueCards is sealed into unmodifiableMap so it's now safe to return the collection provided by its values() method as Collection
- ChooseCard: used common routine GuiChoose.one
- implement ctrl-f/enter hotkeys for transferring focus between text filter box and card catalog table
- Added Discard replacement event
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- getCard(str,bool) now returns planes or schemes properly
- add match result info to game log
- avoid NPE (hopefully -- testing will tell) for Windows users in find-as-you-type popup
- unbreak ctrl/cmd+enter as text search filter shortcut
- add card to deck before removing from catalog to ensure selected card details show up properly
- prepare for editable restrictions
- autoselect text in search filter and range restriction textboxes on focus
- autofocus first field in range restriction when a range restriction is added
- don't select value when spinner value changes -- just when it's focused
- playSpellAbilityForFree will now setup charms.
- City in a Bottle will no longer prevent lands to be played.
- autofocus on first duel/challenge when opening the Duels/Challenges page
- allow Enter to start the match when focused on an opponent
- first blocker is assigned all damage initially
- Text showing how much damage above lethal is assigned to each creature
- remove unused variable
- moved all static members from AbilityFactory to AbilityUtils.java
- renamed package abilityfactory to ability (sorry about possible tree conflicts)
- AbilityFactory.getAbility is now static - no need to create instance of AbilityFactory to parse an ability
- getMapParams moved back to AbilityFactory (since method's responsibility is also parsing)
- isSorcerrySpeed moved to SpellAiLogic (since used only by its descendants)
- adjustChangeZoneTarget moved back to ability/AbilityFactory.java (since called by Common[Spell|Ability|Drawback] classes' ctors)
- resolve method and its auxiliary methods groupped in bottom part of AbilityUtils file
- Converted Dodecapod, Loxodon Smiter, Obstinate Baloth and Wilt-Leaf Liege from keywords to replacement effects.
- Added DiscardMeByOpp param and applied to relevant cards (I've prioritised from 1 - 3, 3 being most dangerous to discard, but priority checking isn't actually applied yet. Plan to expand when I have more free time).
- minor - remove multiline comments like 'by Braids on xx\xx\11'
- gamelog entries are filled in MatchController class for now, at least displaying gamewinlose is not gamestate's responsibility
- GameState.getLandsInPlay inlined
- Fixed DamageDeal StackDescription string builder (to script Crush Underfoot)
- Initial commit of "TargetsWithSameController" (check the parent targets, might be used in Bioshift and Simic Guildmage in future)
- Re-disabled Alpha and Beta in the Custom quest format dialog.
- Very minor checkstyle (removed extra whitespace).
- Added Setinfos to recent cards
- A small fix
- forget to paste something
- revert 19547 and fix underlying issue in FCheckBoxList that was overriding the isEnabled setting of the checkboxes
- player cannot deassign damage from 1st blocker below its lethal damage
- The "ValidCard" parameter in the cantPlayLand stAb is now functional.
- City in a Bottle will now prevents playing of ARN lands.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- third attempt at a cross-platform algorithm for resizing popup panels
- use correct mask constants for shift and alt-graph
- Completed a LQ pic URL filename.
- Fixed playSpellAbility crashing when playing abilities with "sa.getPayCosts() == null".
- set popup parent to null to force a heavyweight popup base
- Added Oracle text of Flash.
- deck API changes. Deck is now a map of sections to cardpools. Schemes and planes have their own sections
- implement reverse search on shift-enter for find-as-you-type
- Fixed a typo in isValid
- quest Deck IO for new format of decks
- use StringUtils to compare ignoring case (that will actually save Ncards + 1 string allocations per search)
- remove unused import
- add in suggested filter for nonprintable characters
- Added proper damage and damage prevention distribution
- Converted Angel of Salvation
- Converted some existing cards to proper distribution
- Added AI support to DividedAsYouChoose.
- Converted Bogardan Hellkite.
- Removed SVar:RemAIDeck:True from some cards with DividedAsYouChoose.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- improved stack description for divided damage/prevention
- Converted some more cards to DividedAsYouChoose
- Converted some more cards to DividedAsYouChoose
- Converted some more cards to DividedAsYouChoose
- Made DistributedAsYouChoose available in PutCounter
- Converted Blessings of Nature to DistributeAsYouChoose
- Added/Fixed SVar:RemAIDeck:True on some cards.
- Added "AILogic$ Never" to Muse Vessel.
- Fixed draft AI picking the worst cards instead of the best (- yes really).
- implement hotkeys for adding/removing cards directly to/from the sideboard
- correctly manage current deck tab title so the '*' appears only when truly dirty
- ensure table selection color is correct even before the table has gained focus for the first time
- autoupdate shown tooltip when tables scroll
- fix NPE when starting draft mode game against a single opponent with a previously-drafted deck
- fix labels getting stuck with hovered highlight after their associated commands prevent them from getting the mouseExited event
- Distribute can now handle Variable amounts
- Introduction of AnnounceRequirements
- add r-click context menus for deck editor tables
- Add info about deck editor hotkeys and r-click menu options
- GameActionPlay has its input reference initialized correctly, no more singletons reference required
- Fixed Meteor Shower's description
- Converted last few damage division scripts
- converted Contagion to DividedAsYouChoose
- The AI can now use some of the DividedAsYouChoose spells with X costs.
- Added Gatecrash Guild Sealed game mode. It works just like the earlier Return to Ravnica Guild Sealed game mode except that you (obviously) have to pick the "Gatecrash Guild Sealed" block. The following cards are not included in this game mode because they are not currently implemented in Forge: Bane Alley Broker, Bioshift, Killing Glare, Simic Manipulator.
- Added a fluff piece on Gatecrash Guild Sealed mode to CHANGES.txt.
- Added a notice about the missing cards in the Gatecrash Guild Sealed mode to CHANGES.txt.
- Added a fluff piece to the changes.txt file.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- reevaluate cursor hover after clicking on a card while playing a match. this enables tapping multiple lands without moving the mouse
- keep the focus on the ok/cancel buttons during a match
- restore focus to previous owner when the overlay is hidden
- properly handle all the various combinations of hover/focus/button presses in FButton
- Add CHANGES blurb about the OK button and keyboard focus during a match
- add the correct number of packs/decks when multiple are purchased at once
- Fix NPE in getUniqueTargets if getTarget() is null
- Fixed a bug introduced by Target Same Controller related to Unique Targets
- check in the wav files Chris converted from ADPCM to PCM so they work on non-Windows platforms
- show the add filter popup menu below the Add Filter button, not on top of it
- change FControl state from int into an enum
- ensure All Decks and Deck Generation tabs only show up in the Constructed deck editor
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- load decks after setting the editor
- Adjusted the content of the CHANGES.txt file.
- don't remove packs from spell shop until after buying them
- restore focus to 'no' button after mulliganing
- Updated CHANGES.txt headers.
- Moved material from the 1.3.7 beta changes.txt file to the readme.txt file.
- Improved Bounty of the Hunt's script
- Moved material from the 1.3.5 beta changes.txt file to the readme.txt file.
- Moved material from the 1.3.4 beta changes.txt file to the readme.txt file.
- Moved material from the 1.3.3 beta changes.txt file to the readme.txt file.
- Moved material from the 1.3.2 beta changes.txt file to the readme.txt file.
- Moved material from the 1.3.1 beta changes.txt file to the readme.txt file.
- Moved material from the 1.3.0 beta changes.txt file to the readme.txt file.
- Moved material from the 1.2.14 beta changes.txt file to the readme.txt file.
- Moved material from the 1.2.13 beta changes.txt file to the readme.txt file.
- Moved material from the 1.2.11 beta changes.txt file to the readme.txt file.
- Moved material from the 1.2.8 beta changes.txt file to the readme.txt file.
- Moved material from the 1.2.7 beta changes.txt file to the readme.txt file.
- Moved material from the 1.2.6 beta changes.txt file to the readme.txt file.
- InputPayMana* classes use a common Ancestor, given more meaningful names, 
- InputPayManaCostUtil . toShort/Long string removed in favour of MagicColor's methods
- removed input creation duplication in MagicStack
- removes 2 warnings
- Moved material from the 1.2.5 beta changes.txt file to the readme.txt file.
- Moved material from the 1.2.4 beta changes.txt file to the readme.txt file.
- Moved material from the 1.2.3 beta changes.txt file to the readme.txt file.
- Moved material from the 1.2.1 beta changes.txt file to the readme.txt file.
- Moved material from the 1.2.0 beta changes.txt file to the readme.txt file.
- Moved material from the 1.1.8 beta changes.txt file to the readme.txt file.
- Moved material from the 1.1.6 beta changes.txt file to the readme.txt file.
- AI was dealing trample damage to player even if it was defending
- fix NPE if no card was passed to GuiConfirm
- Moved material from the 1.1.00 beta changes.txt file to the readme.txt file.
- Moved material from the 1.0.14 beta changes.txt file to the readme.txt file.
- Moved material from the 06/12/2011 beta changes.txt file to the readme.txt file.
- Moved material from the 05/17/2011 beta changes.txt file to the readme.txt file.
- Moved material from the 01/14/2011 beta changes.txt file to the readme.txt file. I am now finished moving material. :)
- CardDb - split DB in two parts: one is for common cards and another one is for avatars, planes, schemes and phenomena (CardDb.variants)
- ChooseCardName - cards are sorted and filtered if criteria is nonland, basic or creature
- Restore previous functionality in VAssignDamage to only assign Lethal Damage to first blocker when the popup first displays
- rename of carddb.getAllUniqueCards method => getUniqueCards
- only highlight next item if no other items have been removed since the callback started



end
