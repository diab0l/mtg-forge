Forge Beta: 01-04-2013 ver 1.3.4

(Quest icons used created by Teekatas, from his Legendora set http://raindropmemory.deviantart.com)
(Thanks to the MAGE team for permission to use their targeting arrows.)
(Thanks to http://www.freesound.org/browse/ for providing some sound files.)

11760 cards in total.


Sideboards have been implemented for Human players. We currently have:

* Sideboard creation support in relevant deck editor modes.
* In-game sideboarding with persistence between rounds in a match.
* Sideboard supported as a zone, with some relevant cards already in.
* Correct validation of decks, both before the game starts and between the rounds (Limited min 40, Constructed min 60, free-form sideboard/main in Draft and Sealed, 1:1 sideboarding with 0 or 15 cards allowed in sideboard in Constructed (all variants) and Quest; OK to have less than minimum between rounds in a match in all modes if lost cards on ante).
* Correct (fingers crossed) interaction of sideboarding with other relevant aspects of Forge rule enforcement (mulligan and ante interactions were corrected, initial hand and library between rounds were both corrected, everything else looks so far so good).

We don't yet have:

* Sorting in the in-game sideboard editor.
* AI sideboarding.

Quest Worlds, stage 1. This version simply allows you to travel between the regular quest world and the newly-added Shandalar world to get different duel opponents and challenges. You will have to complete your current challenges before travelling or you will lose them. 

World-specific format enforcing and starting world selection will be added in later stages. Also, something has to be done about locked (non-repeatabled) challenges so they do not end up locking other challenges in different worlds.

--

This version of forge includes a few sound files for the new sound effect system. While we have several sounds assigned to a few of the available events there are a number of events that do not yet have a assigned sound file. This should be considered a work in progress and we could use some help in finding interesting sounds that we can add to forge.

The sound files need to be in wav or au format, wav appears to be more wide spread but the code can handle either format. The sound files need to be copy right free and they should be in the public domain.

You can either record your own sounds if you have the necessary equipment or you may be able to find an appropriate sound on a web site such as this site:

http://www.freesound.org/browse/

You should note that sound files can be large sized and we would like to avoid this if possible. A good size to shoot for would be 50 K or less. There is a freeware sound editor that may have versions for all operating systems. This app is named Audacity.

We have a forge forum topic at the Collectible Card Games Headquarters web site that is devoted to finding sounds for this new sound system. Please visit this topic and contribute a sound or two. We can use your help and assistance. :)

http://www.slightlymagic.net/forum/viewtopic.php?f=26&t=8570

--

On several occasions people have noticed that the forge deck editor and/or quest mode card shop would not open or display. We have also received reports that some of the tabs/panels in the deck editor are missing. Try deleting the file named "editor_preferred.xml" which is found in the "res/layouts" folder. This should force forge to then use the "editor_default.xml" file instead.

Several people have noticed that the cards displayed on the battlefield will fail to be displayed when the number of cards on the battlefield increases. Maximizing the human panel can help to re-display the cards.

Some time was spent turning the static ETB triggers into the proper ETB replacement effects they should be, mainly to interact correctly with eachother. This work is not yet finished. As a result there is currently some inconsistencies with "Enters the battlefield with counters" (Not incredibly noticeable).

It seems like the front face of double faced cards aren't triggering properly, but the back face and single faced cards are.

A recent contribution to the code base should fix some of the bugs that people noticed with cloning type abilities. At this time there are two remaining issues that we hope will be addressed in the near future.

1. Leave play triggers don't work correct for clones.
2. Copies of cards that setup Zone Change triggers via addComesIntoPlayCommand and addLeavesPlayCommand will not function correctly.

We are now using a different system for our snapshot and beta releases. Unfortunately, this new system builds a jar file which does not accurately display the SVN revision number.

Forge is likely to be compatible with Java 7 at this time. Some people have used forge with Java 7 and have not reported any problems that are related to Java 7. If you would like to upgrade to Java 7 and have held off because of Forge then you may upgrade as we do not think that it will cause an incompatibility type of problem at this time. We will continue to try to maintain compatibility with Java 6 for the foreseeable future.

--

The Forge archive includes a readme.txt file and we ask that you spend a few minutes reading this file as it contains some information that may prove useful. We do tend to update this file at times and you should quickly read this file and look for new information for each and every new release. Thank you.

The archive format used for the Forge distribution is ".tar.bz2". There are utilities for Windows, Mac OS and the various *nix's that can be used to extract/decompress these ".tar.bz2" archives. We recommend that you extract/decompress the Forge archive into a new and unused folder.

Some people use the Windows application 7zip. This utility can be found at http://www.7-zip.org/download.html. Mac users can double click on the archive and the application Archive Utility will launch and extract the archive. Mac users do not need to download a separate utility.


Fixes/Features:

- Sideboarding: Initial commit. Added full sideboard support with the ability to create sideboards for Constructed and Quest decks, as well as use sideboard in Limited modes; full deck validation depending on the game format; ingame sideboarding that is persistent across the duels of one match. *No AI support yet, hopefully someone will be able to add it in the future*
- Converted Winds of Change to use RepeatEach so moomarc can use it as an example
- Display X costs in the deck editor before Colorless Mana (X 1 B instead of 1 X B)
- Fixed and polished AI using ETB Counterspells (like Mystic Snake).
- The sideboard is now available as a zone.
- Added a few missing SetInfos.
- Preparing the changes.txt file for the next beta build and release.
- Sideboarding: fixed the sideboard becoming fubar after playing at least one quest match.
- Sideboarding: minor TODO comment update.
- Fixed Quest for the Holy Relic.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- Added a way to discard any number of cards via a two-panel interface to the AF Discard.
- Added the keyword "If CARDNAME would be destroyed, regenerate it.".
- Corrected the rarity of Last Rites.
- Sideboarding: the drafting window will no longer show an option to switch between the main and the sideboard (only the drafted deck editor will).
- The game will no longer complain about the RemAIDeck cards that are located in the AI sideboard (otherwise it polluted limited mode with a list of all cards that the AI drafted but did not put into its deck as if they were put into the deck).
- A more appropriate measure for the AI complaints about non-AI friendly cards in sideboard: in Limited modes, the AI will currently not complain (because the non-AI friendly cards end up in the sideboard anyway), but in Constructed modes, the AI will complain if any unplayable cards are included in the sideboard.
- Fixed Demonic Hordes.
- Sideboarding: Fixed the interaction of sideboarding with flip cards which caused a crash if the card was flipped at the end of the game.
- Sideboarding: Attempt at fixing interaction of sideboarding with the mulligan in rounds 2 and 3 (experimental, might not actually do the trick).
- Fixed Jerrard of the Closed Fist.
- Fixing Sleight of Hand in Quest mode not allowing a free mulligan
- Sideboarding: Temporarily disabled main/sideboard persistence across duels in a match because the current implementation results in many difficult to fix bugs. Will hopefully reimplement this soon in another way.
- Sideboarding: removed the old deck persistence system. Hopefully a new implementation will follow soon enough (as soon as I understand how it can be done or someone volunteers to help).
- Sideboarding: during deck validation between the duels in a match, the deck will be considered valid if it's no less than either the format-enforced minimum or the minimum after the previous duel in a match (to account for the possibility of losing a card on ante).
- Sideboarding: you can now put any number of snow-covered basic lands into your deck, per MTG rules.
- A little correction to the previous commit.
- Evoke is now flagged as non-basic cost.
- Sideboarding: Attempt two at in-match deck configuration persistence. Currently still not 100% functional (Constructed and Limited seem to work fine, no cards disappearing between matches bugs and persistence works; in Quest, persistence also works but it lasts longer than the match). Ante seems to work correctly, at least in Quest mode.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- Sideboarding: reverting the last implementation of persistence (again). Another dead idea.
- Sideboarding: Quest mode now properly requires a sideboard of either 0 or 15 cards.
- Sideboarding: Take three on trying to befriend sideboarding with ante and all the other stuff. Will either commit to this or revert later if it fails as well.
- Sideboarding: an off-game sideboard editor button will no longer show for the Limited modes (doesn't make sense for them anyway).
- Sideboarding: Correctly remove cards that are lost on ante in quest mode from all decks and trunk.
- Allow a generic reward of 'n rares' (with no color specification) without crashing the game.
- Sideboarding: removed a no-longer-relevant TODO comment.
- Sideboarding: renamed a method to startDeckEdits for clarity.
- Sideboarding: minor code cleanup.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- Added a fluff piece to the changes.txt file.
- The AI will no longer try to destroy fetchlands.
- The AI will now attack with Frozen Shade.
- More combat AI improvements (predicting pump abilities).
- Sideboarding: Correctly restore the initial state of quest decks after a match.
- Sideboarding: A more appropriate location for the quest deck reinitialization, now interacts correctly with winning/losing cards on ante.
- Add the regular quest environment as a special index 0 world.
- Added code for CantBeBlockedBy keywords to isUsefulPumpKeyword.
- Sideboarding: A little code style-related change.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- CheckStyle.
- Another fix for Demonic Hordes.
- Fixed The Pieces Are Coming Together.
- made some TgtPrompt more specific
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- Fixed a NPE in AF Discard.
- Fixed Thragtusk.
- The rev number displayed in the title bar is once again displaying an old SVN revision number, remove it.
- Fixed some missing ability description.
- Another fix for Scalpelexis.
- Fixed a possible bug in targetAI related to PayX SVars.
- Fixed ImprintedCardManaCost xCount.
- Quest Worlds, stage 1. This version simply allows you to travel between the regular quest world and the newly-added Shandalar world to get different duel opponents and challenges. You will have to complete your current challenges before travelling or you will lose them. 
- World-specific format enforcing and starting world selection will be added in later stages. Also, something has to be done about locked (non-repeatabled) challenges so they do not end up locking other challenges in different worlds.
- Added a fluff piece to the changes.txt file.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- Renumbered the Shandalar challenges to make them unique (in order to prevent potential conflicts with non-repeatable challenges in the main challenges folder).
- Fixed cost of Simic Basilisk.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- Added Phenomena core type,
- Removed Swing reference from Deck class
- add org.apache.commons-lang
- 1. GameType store deck restrictions in a more structured way
- 2. Check for multiple unique cards considers name the only key attribute 
- 3. Removed warnings for unused imports
- Added some missing setinfos for Vanguard Avatars
- Fixed Royal Assassin Avatar and Oni of Wild Places Avatar
- Do not display the current world in the Travel destination dialog.
- CheckStyle.
- Very minor CheckStyle.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- Small fix to Braids Avatar
- Fixed Lightmine Field.
- Added SVar:RemAIDeck:True to Waiting in the Weeds.
- Added Valid filtering for Defined, used by Earthbind
- The AI can now use Hidetsugu's Second Rite.
- Updated some SVars.
- Fixed Mage Slayer
- Mistype correction.
- Min/max sideboard size message tweaks.
- Code simplification.
- More code simplification.
- Targeting overlay: Added support for showing arrows for paired creatures, performed some code cleanup.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- put an end to impropper use of inventoryitem.getType to make checks against card types
- draft value estimation moved outside of deck class
- Moved code that checks if a deck matches format to class describing format (althogh a separate validator class might be even a better idea)
- added a ChooseOrder switch to RepeatEach effect
- added check that disabled deck checking if developer mode is enabled
- Modified coin flips to allow just counting heads or tails. Added Fiery Gambit.
- Read card text more carefully. Reverted changes to FlipCoinEffect.java and flipACoin method. Adjusted Fiery Gambit script.
- Fixed Academy Researchers can be enchanted by auras that can't legally enchant it
- Delete Eye of the Storm (with some rule text conflicts)
- Some SVar updates
- renamed parameter for better understanding of payments from ManaPool
- moved colorful part of mana shard parsing inside the mana/ManaCostShard.java file to eliminate code duplication
- CardColor renamed to ColorSet which reflects class purpose better,
- Mana stores color in a byte internally (one of MagicColor constants or 0 for colorless)
- ManaPool.getMana - a cleaner choice of mana to pay.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- cleaned up Fiery Gambit
- Greatly simplified BoosterDraftAI to pick cards based on calculated card rating.
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- It would appear that I forgot to commit the changes to the ability factory effects when I moved ConditionDescription to the common stack description handler.
- Reverted LocalCount in favor of RepeatPlayer in RepeatEach (Molten Psyche and Netherborn Phalanx)
- Converted Myojin of Night's Reach and Imprison This Insolent Wretch to multiplayer scripts
- Fixed Molten Psyche cost
- Fixed Divine Light
- Created Gatecrash branch
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- Converted Nezumi Shortfang for multiplayer
- fix crash during drafts
- tweak ColorSet toString
- Added very basic AddPhase AF
- Added support in PhaseHandler for Additional phases
- Convert Finest Hour to AddPhase
- Converted Mass Mutiny for multiplayer.
- Added TargetsWithDifferentControllers param for targeting with different controllers (should supercede TargetsFromDifferentZone in most cases as it works with player lists instead of using getOpponent)
- Converted Blatant Thievery for multiplayer.
- Fixed keyword "CARDNAME untaps during each other player's untap step." for correct application in multiplayer.
- More cards ready for multiplayer
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- More cards ready for multiplayer
- CheckStyle.
- reverting uglifying checkstyle changes
- fixing a crash when AI had spare mana after playing a spell.
- removal of unused code
- if chains changed to switches
- Fixed Hakim, Loreweaver
- Fixed Voyager Staff
- Fixed Ethereal Haze
- Improved method name for isControlledByAnyOf predicate
- Converted Black Vise for multiplayer
- Removed some printlns I left in a earlier commit.
- More cards ready for multiplayer
- Fixed The Fallen (damagedThisGame in CardDamageHistory was never adding damaged players to the array, also made multiplayer compatible)
- Changed initial array sizes in CardDamageHistory to the number of players in the game
- More cards ready for multiplayer
- More cards ready for multiplayer
- missed two files with my last commit
- More cards ready for multiplayer
- Simplified Split Second
- added SVar:RemAIDeck:True to recently added coin flip cards
- Hopefully fixed trigger bug in multiplayer.
- fixed potential bug with Haunt mechanism in multiplayer
- The Quest world format, if present, overrides the user-defined format.
- Fixed bad logic in QuestWorld.java.
- Get rid of the superficial Index parameter. Quest Worlds are identified by their name.
- Fix misleading JavaDoc in QuestController.java.
- Converted a few cards by bbbbbbbbba
- Fixed Linessa, Zephyr Mage
- Another fix of linessa zephyr mage
- Support for initial Quest World definition in QuestData.java and QuestController.java when starting a new Quest.
- Removed an obsolete comment from QuestData.java
- Allow selection of starting world. If the selected world has a format, it is enforced instead of a user-defined one. (More documentation to follow on the Forge forum.)
- Disabled the starting Quest World format overriding prized cards format and unlocking. This means that you can now define a custom format and unlock new sets even if you start the game in a format enforcing world, by travelling to a different world that does not enforce a format.
- Got rid of some getOpponent() calls for multiplayer compatibility
- Fixing syntax error in AddTurnAI
- Added the recent commit logs to changes.txt.
- Fixed Victimize
- Tweaked CardFactory.copySpellOntoStack to accomodate abilities.
- Fixed CardDamageHistory crash in deckeditors
- Renamed AF_CopySpell for clarity
- Added the recent commit logs to changes.txt. Preparing for the snapshot build release.
- Made Karn Liberated first ability mandatory
- Added Mandatory$ True to Parallax Nexus
- Made Borrowing 100000 Arrows and Theft of Dreams ready for multiplayer
- Added FollowedBy Parameter in AddPhase which is common to many of these combat + main phase adders
- Fixed NPEs in QuestController.java when the data directory is empty.
- added Dragon's Maze 3 letter code
- fixed some indentation issues. changed Commander set code to match mtg-data.txt
- Removed code that generates SVar:Rarity line. Rarity SVar is not a required field and is not actually used by Forge.
- Added replacement effect handler for turns face up. Moved running of triggers for TurnFaceUp to turnFaceUp method in Card.java.
- Added ChosenCard to defined card types. 
- Added ForgetChosen parameter to ChooseCardEffect to remove chosen card from host card remembered object list.
- Added Mandatory parameter to ChooseCardEffect.
- restructured The Mimeoplasm to somewhat playable by AI
- Fixed AF Charm AI.
- Better fix for AF Charm AI.
- Fixed Zektar Shrine Expedition.
- Fixed Storm and Epic keywords.
- Fixed a bug with morphs.
- The buildDeck function will now throw an error instead of looping infinitely.
- Adding Arcane type to Overblaze
- Fixing apostrophe that doesn't display properly
- added "TriggerZones$ Battlefield" to TurnsFaceUp triggers
- Added Duration parameter Clone effect.
- Made copied abilities actually register as copied (and not trigger Rings of Brighthearth again,for example)
- Nonmana-root abilities with mana subabilities are now properly recognized as mana abilities (Metalworker)
- Fixed draft AI not building decks.
- Added the recent commit logs to changes.txt. Preparing for the beta build and release.
- Preparing the changes.txt file for the next beta build and release.


Many people helped with this version. A special thank you goes out to them. (Attempted to list names alphabetically):

Agetian
ArsenalNut
bbbbbbbbba
Gos
Hellfish
Marc
Max
RumbleBBU
Sloth
Sol
Swordshine
Chris H


Added the following Schemes:

Into the Earthen Maw
Introductions Are in Order
Know Naught but Fire
My Undead Horde Awakens


Added the following Vanguard Avatars:

Braids Conjurer Adept Avatar
Hermit Druid Avatar
Higure, the Still Wind Avatar
Loxodon Hierarch Avatar
Mayael the Anima Avatar
Mirri, the Cursed Avatar
Mirror Entity Avatar
Oni of Wild Places Avatar
Phage the Untouchable Avatar
Platinum Angel Avatar
Prodigal Sorcerer Avatar
Raksha Golden Cub Avatar
Reaper King Avatar
Rith the Awakener Avatar
Royal Assassin Avatar
Rumbling Slum Avatar
Sakashima the Impostor Avatar
Serra Angel Avatar
Squee, Goblin Nabob Avatar
Stalking Tiger Avatar
Tesya, Orzhov Scion Avatar


Added the following cards:

Aggravated Assault
Artifact Possession
Baki's Curse
Beacon of Destiny
Burning Wish
Carrion Rats
Carrion Wurm
Chamber of Manipulation
Clarion Ultimatum
Clergy of the Holy Nimbus
Colfenor's Plans
Cunning Wish
Cytoshape
Death Wish
Decree of Silence
Desperate Gambit
Draining Whelk
Energy Vortex
Eye of the Storm
Faces of the Past
Feral Contest
Fiery Gambit
Fighting Chance
Final Punishment
Flux
Fury of the Horde
Glittering Wish
Goblin Psychopath
Golden Wish
Graceful Reprieve
Hakim, Loreweaver
Haze Frog
Hellkite Charger
Hunt Down
Hunter of Eyeblights
Impulsive Maneuvers
Incite War
Instigator
Kjeldoran Guard
Knight of the Holy Nimbus
Knollspine Dragon
Lammastide Weave
Laquatus's Creativity
Last Rites
Living Wish
Mangara's Blessing
Mimeofacture
Mizzium Transreliquant
Mourner's Shield
Neurok Transmuter
New Frontiers
Oath of Lim-Dul
Overblaze
Overwhelming Instinct
Phantasmal Mount
Razorfin Abolisher
Relentless Assault
Renegade Doppleganger
Rhystic Circle
Rhystic Scrying
Rhystic Shield
Rime Transfusion
Rimehorn Aurochs
Ring of Ma'ruf
Rings of Brighthearth
Rites of Initiation
Rites of Refusal
Rites of Spring
Roots of Life
Rysorian Badger
Sacred Rites
Savage Beating
Scion of the Ur Dragon
Seize the Day
Shapesharer
Soulgorger Orgg
Spawnsire of Ulamog
Squee's Revenge
The Mimeoplasm
Thousand-Year Elixir
Total War
Unified Will
Vesuvan Shapeshifter
Waves of Aggression
Web of Inertia
Woeleecher


end
